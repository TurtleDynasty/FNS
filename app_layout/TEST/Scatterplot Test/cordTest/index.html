
<!DOCTYPE html>
<html>
	<meta charset="utf-8">
	<style>
		text
		{
			font: 10px sans-serif;
			text-anchor: middle;
		}
		.axis path,
		.axis line
		{
			fill: none;
			stroke: #000;
			shape-rendering: crispEdges;
		}

		.dot
		{
	  		stroke: #000;
		}

		.tooltip
		{
			position: absolute;
			width: 200px;
			height: 28px;
			pointer-events: none;
		}
		svg
		{
			transform-origin: 0 0;
		}
	</style>

	<body>
		<script src="https://d3js.org/d3.v4.min.js"></script>
		<script>
		var width = 960;
		var height = 1000;
		var svg = d3.select("body")
			.append("svg")
			.attr("width", width)
			.attr("height", height)
			.append("g");
			//.attr("transform", "translate(" + margin.left + "," + margin.top + ")");
			function subject(d)
			{
				return { x: d3.event.x, y: d3.event.y };
			};
			var drag = d3.drag()
				.subject(subject)
				.on('start', function()
				{
					console.log("width: "+width)
					console.log("height: "+height)
					d3.select(".dragBar").remove();
				})
				.on('drag', function() {
					var coordinates = [0, 0];
					coordinates = d3.mouse(this);
					var x = coordinates[0];
					var y = coordinates[1];
					console.log(x + "," + y)
				})
				.on('end', function() {
				});
			svg.append("rect")
				.attr("x", 0)
				.attr("y", 0)
				.attr("width", width)
				.attr("height", height)
				.style("fill-opacity", 0.15)
				.call(drag);
		</script>
	</body>
</html>
